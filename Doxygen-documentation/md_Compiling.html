<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wxMaxima: Building wxMaxima from source</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">wxMaxima
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Building <a class="el" href="classwxMaxima.html">wxMaxima</a> from source </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>To build <a class="el" href="classwxMaxima.html">wxMaxima</a> from sources you need to have a C++ compiler (C++14), wxWidgets &gt;= 3.0 (including development headers) and CMake &gt;= 3.16 installed.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Compiling wxMaxima on Linux and Linux-like systems (Cygwin, MacPorts, Fink, Homebrew,...)</h2>
<p><a class="el" href="classwxMaxima.html">wxMaxima</a> is built using the CMake build system.</p>
<p>The following steps will build and install <a class="el" href="classwxMaxima.html">wxMaxima</a> using CMake. Download and extract <a class="el" href="classwxMaxima.html">wxMaxima</a> and change in the <a class="el" href="classwxMaxima.html">wxMaxima</a> tree. Then:</p>
<div class="fragment"><div class="line">mkdir -p build          # create a build directory (may even be outside the wxmaxima code)</div>
<div class="line">cd build                # change to the build directory</div>
<div class="line">cmake ..                # configure the build.</div>
<div class="line">                        # .. is the path to the extracted wxMaxima code - if you use another build directory, adjust.</div>
<div class="line">cmake --build .         # build wxMaxima</div>
<div class="line">                        # You can speed up the build, if you have multiple CPU cores, using</div>
<div class="line">                        # cmake --build . -- -j 4</div>
<div class="line">                        # (-j 4 means: Use 4 CPU cores). Adjust the number for your CPU.</div>
</div><!-- fragment --><p>Now you can test your <a class="el" href="classwxMaxima.html">wxMaxima</a> build (without installing it) by calling: <code>./wxmaxima-local</code></p>
<p>If everything is okay install it with: </p><div class="fragment"><div class="line">sudo cmake --build . -- install</div>
</div><!-- fragment --><p>If you want to install into a special prefix (not <code>/usr/local</code>), add <code>-DCMAKE_INSTALL_PREFIX=/your/installation/prefix</code> to the first cmake invocation. E.g.</p>
<div class="fragment"><div class="line">cmake -DCMAKE_INSTALL_PREFIX=/opt/wxmaxima ..</div>
</div><!-- fragment --><p>By default a "Debug" build will be made (less optimization, debug symbols) - and this build shows the <a class="el" href="classwxMaxima.html">wxMaxima</a> log window (may contain helpful log messages) when started; if you want to create a "Release" build (more optimization, the log window is not shown by default, it can be toggled on and off using "View-&gt;Toggle log window") set the build type (CMake supports other build types too) using: </p><div class="fragment"><div class="line">cmake -DCMAKE_BUILD_TYPE=Release ..</div>
</div><!-- fragment --><p>Of course you can use the CMake GUI (<code>cmake-gui</code>) or curses based CMake (<code>ccmake</code>) for the configure step and change some CMake variables.</p>
<p>If you want to create binary packages (tar.gz, tar.bz2, DEB &amp; RPM, on macOS also .dmg), the following command will create them:</p>
<div class="fragment"><div class="line">cmake --build . -- package</div>
</div><!-- fragment --><p>To update the locale files (po and pot) in the source code:</p>
<div class="fragment"><div class="line">cmake --build . -- update-locale</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
Testing wxMaxima</h3>
<p>You can use (or test) a fresh compiled <a class="el" href="classwxMaxima.html">wxMaxima</a> (without installation) by calling <code>./wxmaxima-local</code> from the build-directory.</p>
<p><a class="el" href="classwxMaxima.html">wxMaxima</a> comes with several tests, which can be run using</p>
<div class="fragment"><div class="line">ctest</div>
</div><!-- fragment --><p>from the build directory. If you want to run a single test, you can use the option <code>-R &lt;name-of-the-test&gt;</code> when calling <code>ctest</code>. The tests (and their names) can be seen in the file <code>test/CMakeLists.txt</code> of the source code.</p>
<p>On Linux/Unix the tests usually require a X Server; if you start the tests without an X server (e.g. automatic tests using cron, when doing tests using a continuous integration system, etc.) you can use <code>xvfb-run</code> to create a virtual X Server environment, e.g. just run: <code>xvfb-run ctest</code></p>
<h3><a class="anchor" id="autotoc_md10"></a>
macOS: Creating a portable .apk and .dmg installer</h3>
<p>This requires wxWidgets to be installed, e.G. using MacPorts. If you are in the extracted <a class="el" href="classwxMaxima.html">wxMaxima</a> directory, call e.g.</p>
<div class="fragment"><div class="line">mkdir ../build-wxm</div>
<div class="line">cmake -S . -B ../build-wxm -DCMAKE_INSTALL_PREFIX=.</div>
<div class="line">cmake --build ../build-wxm</div>
<div class="line">cmake --build ../build-wxm --install</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
Ubuntu or Debian build prerequisites</h3>
<div class="fragment"><div class="line">sudo apt-get install build-essential libwxgtk3.2-gtk3-dev libwxgtk-webview3.2-gtk3-dev wx3.2-i18n ibus-gtk ibus-gtk3 checkinstall gettext cmake pandoc po4a</div>
</div><!-- fragment --><p>On Ubuntu &lt; 24.04 install an older wxWidgets version (<code>libwxbase3.0-dev libwxgtk3.0-gtk3-dev libwxgtk-webview3.0-gtk3-dev</code> instead of the version 3.2).</p>
<p>beforehand or (if apt-get is configured to load the source package repositories and not only the binary packages) by the simpler</p>
<div class="fragment"><div class="line">sudo apt-get build-dep wxmaxima</div>
</div><!-- fragment --><p>You must use the apt-get install command when the version you are building has dependencies which are not listed as dependencies in your distro's repository version of wxmaxima.</p>
<h3><a class="anchor" id="autotoc_md12"></a>
macOS X prerequisites</h3>
<p>On macOS X you most probably need the command-line compiler one can tell Xcode to install. Additionally wxWidgets needs to be installed, which can be done using Homebrew, Fink or MacPorts and should be named wxWidgets or wxMac there. XCode versions older than version 13.0 have problems compiling <a class="el" href="classwxMaxima.html">wxMaxima</a>.</p>
<p>Additional information about building on macOS:</p>
<ul>
<li><a href="https://themaximalist.org/about/my-mac-os-installation/">https://themaximalist.org/about/my-mac-os-installation/</a></li>
<li><a href="https://github.com/wxMaxima-developers/wxmaxima/issues/2026#issuecomment-3172804134">https://github.com/wxMaxima-developers/wxmaxima/issues/2026#issuecomment-3172804134</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
Compiling on Windows</h2>
<p>You can use the MinGW-w64 (<a href="https://www.mingw-w64.org/">https://www.mingw-w64.org/</a>) compilers.</p>
<p>You can also build using MS Visual Studio 2019 or newer. Since MSVS provides adequate versions of both cmake and ninja, there's no need to install those. The build has to start from within the <em>x64 Native Tools Command Prompt</em>, and you have to first build wxWidgets before you build wxmaxima. You can get some inspiration about how to do both of these steps by examining the PowerShell scripts that do the building within <code>.appveyor.yml</code> file.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
Note for the Mingw-w64 compiler and crosscompiler</h3>
<p>These compilers come with two forms of thread support - win32 and posix. The win32 thread version does not support std::thread, which <a class="el" href="classwxMaxima.html">wxMaxima</a> uses for multithreading, so be sure to install or reconfigure the posix version.</p>
<p>On Ubuntu Linux the crosscompiler <code>x86_64-w64-mingw32-g++</code> can be reconfigured using:</p>
<div class="fragment"><div class="line">update-alternatives --config x86_64-w64-mingw32-g++</div>
</div><!-- fragment --><p>(For 32 bit the same works for the 32 bit crosscompiler <code>i686-w64-mingw32-g++</code>.)</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Compiling for Android 9</h2>
<p>Some information how to build for Android 9 can be found in the <a class="el" href="classwxMaxima.html">wxMaxima</a> discussion forum: <a href="https://github.com/wxMaxima-developers/wxmaxima/discussions/1594">https://github.com/wxMaxima-developers/wxmaxima/discussions/1594</a></p>
<h2><a class="anchor" id="autotoc_md16"></a>
Documentation of the source</h2>
<p>An HTML version of <a class="el" href="classwxMaxima.html">wxMaxima</a>'s source code documentation can be found at <a href="https://wxmaxima-developers.github.io/wxmaxima/Doxygen-documentation/">https://wxmaxima-developers.github.io/wxmaxima/Doxygen-documentation/</a></p>
<p><a class="el" href="classA.html">A</a> local version of the documentation of <a class="el" href="classwxMaxima.html">wxMaxima</a>'s source can be generated using doxygen and the <code>doxygen</code> target:</p>
<div class="fragment"><div class="line">cmake --build ../build-wxm -- doxygen</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md17"></a>
wxWidgets isn't found</h2>
<p>CMake has currently (Feb 2022) problems finding a wxWidgets that was compiled using CMake. If that is the reason maybe wxWidgets was compiled without wxWebView. In that case</p>
<div class="fragment"><div class="line">cmake -S . -B ../build-wxm -DWXM_DISABLE_WEBVIEW=on</div>
</div><!-- fragment --><p>might allow cmake to find wxWidgets at the cost of loosing the integrated dockable help browser.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Additional information for packagers</h1>
<h2><a class="anchor" id="autotoc_md20"></a>
Creating a standalone wxMaxima</h2>
<p><a class="el" href="classwxMaxima.html">wxMaxima</a>, if linked statically, is pretty standalone and therefore fit for creating a portable app:</p>
<ul>
<li>It only depends on one single library: wxWidgets, that can be linked statically,</li>
<li>And besides a working maxima installation it only attempts to use two sets of external files: The manual and the translation files.</li>
</ul>
<p>If a <a class="el" href="classwxMaxima.html">wxMaxima</a> install should come without manual or translation files that might not be the end of the world, neither:</p>
<ul>
<li>If the translation files are not found, the program will still work, but will be using english.</li>
<li>And if there are no manual files <a class="el" href="classwxMaxima.html">wxMaxima</a> will redirect the system's web browser to an online version of the manual, instead.</li>
</ul>
<h2><a class="anchor" id="autotoc_md21"></a>
Troubleshooting</h2>
<p>If you have problems when compiling <a class="el" href="classwxMaxima.html">wxMaxima</a>, maybe a look in the configurations for various CI-Systems (<code>.appveyor.yml</code> and files in <code>.github/workflows/</code>) may be helpful to see, how <a class="el" href="classwxMaxima.html">wxMaxima</a> is compiled on these systems. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
